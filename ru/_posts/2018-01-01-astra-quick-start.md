---
layout: post
lang: ru
title: Astra. Начало Работы
tags: [astra]
---

Установка Астры простой процесс - для работы достаточно одного исполняемого файла.

<!-- more -->

## Установка

Для установки последней версии, запустите следующую команду на сервере:

``` sh
wget -O /usr/bin/astra http://cesbo.com/download/astra/$(uname -m)
```

На нашем сайте также доступен архив версий: <http://cesbo.com/download/astra/>. Чтобы установить нужную версию, найдите её в архиве, скопируйте ссылку и на сервере выполните комманду:

``` sh
wget -O /usr/bin/astra ссылка-на-нужную-версию
```

После установки создайте каталог для файлов конфигурации:

``` sh
mkdir /etc/astra
```

Сохраните `license.txt` файл с серийным номером из вложения почтового сообщения в файл `/etc/astra/license.txt` на сервере. Письмо с файлом `license.txt` вы получите сразу после покупки или после запроса пробной версии.

## Проверка версии

После установки или обновления можно проверить номер версии:

``` sh
astra -v
```

## Запуск

Для запуска выполните команду:

``` sh
astra -c /etc/astra/astra.conf -p 8000 --log /var/log/astra.log --daemon
```

- `-c /etc/astra/astra.conf` - файл конфигурации, будет создан автоматически при первом запуске
- `-p 8000` - порт для веб-интерфейса, может быть любым
- `--log /var/log/astra.log` - лог-файл для записи событий
- `--daemon` - запуск в фоне

После запуска веб-интерфейс будет доступен по адресу: <http://адрес-сервера:8000>. Логин и пароль по умолчанию: `admin`

**Внимание!** Для автоматического запуска при старте системы необходимо сделать соответствующие настройки в операционной системе: [Автозапуск](#автозапуск)

## Обновление

Перед обновлением создайте резервную копию исполняемого файла и файла конфигурации:

``` sh
tar -Pzcf /etc/astra/backup.tar.gz /usr/bin/astra /etc/astra/astra.conf
```

Для извлечения резервной копии необходимо выполнить:

``` sh
rm -f /usr/bin/astra
tar -Pxf /etc/astra/backup.tar.gz
```

Установка обновления:

``` sh
rm -f /usr/bin/astra
wget -O /usr/bin/astra http://cesbo.com/download/astra/$(uname -m)
```

После обновления перезапустите Астру.

## Удаление

Достаточно удалить исполняемый файл, каталог с файлами конфигурации и лог-файл

``` sh
rm -f /usr/bin/astra
rm -rf /etc/astra
rm -f /var/log/astra.log
```

## Автозапуск
